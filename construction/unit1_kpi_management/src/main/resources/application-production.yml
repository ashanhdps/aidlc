# Production profile with DynamoDB

# Database Configuration
app:
  database:
    type: dynamodb  # Production uses DynamoDB
  demo:
    initialize-data: false  # No demo data in production
    use-local-dynamodb: false
    simulate-api-calls: false

# AWS Configuration
aws:
  region: ${AWS_REGION:us-east-1}
  dynamodb:
    endpoint: ${DYNAMODB_ENDPOINT:}  # Empty for production AWS DynamoDB
    table-prefix: ${DYNAMODB_TABLE_PREFIX:kpi-management-prod-}

# Production server settings
server:
  port: ${PORT:8088}
  servlet:
    context-path: /api/v1

# Security (strict for production)
spring:
  security:
    user:
      name: ${ADMIN_USERNAME:admin}
      password: ${ADMIN_PASSWORD}  # Must be provided via environment
      roles: ADMIN

# Production logging
logging:
  level:
    com.company.kpi: INFO
    org.springframework.security: WARN
    root: WARN
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level [%X{correlationId}] %logger{36} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level [%X{correlationId}] %logger{36} - %msg%n"
  file:
    name: /var/log/kpi-management/application.log

# Production monitoring
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: when-authorized
  metrics:
    export:
      prometheus:
        enabled: true